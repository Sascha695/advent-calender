<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>Adventskalender Tag 5</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Tag&nbsp;5 – Mini-Sudoku</h1>
  </header>
  <main class="puzzle-container">
    <p>Fülle das 4×4-Sudoku. In jeder Zeile, Spalte und jedem 2×2-Block dürfen die Zahlen 1–4 nur einmal vorkommen.</p>
    <table class="sudoku" id="sudokuBoard"></table>
    <button onclick="checkSudoku()">Überprüfen</button>
    <div id="sudokuFeedback" style="color:red; margin-top:10px;"></div>
    <div id="letter-container" class="letter-container" style="display:none;">
      <p>Dein Buchstabe:</p>
      <div class="letter" id="letter"></div>
      <p>Merke dir diesen Buchstaben!</p>
    </div>
  </main>
 
  <script>
    const solution = [
      [1, 2, 3, 4],
      [3, 4, 1, 2],
      [2, 1, 4, 3],
      [4, 3, 2, 1]
    ];
    const prefilled = {
      '0-0': 1,
      '0-3': 4,
      '1-1': 4,
      '2-2': 4,
      '3-0': 4,
      '3-3': 1
    };
    const board = document.getElementById('sudokuBoard');
    for (let r = 0; r < 4; r++) {
      const row = document.createElement('tr');
      for (let c = 0; c < 4; c++) {
        const cell = document.createElement('td');
        const key = `${r}-${c}`;
        if (prefilled[key]) {
          cell.textContent = prefilled[key];
          cell.classList.add('prefilled');
        } else {
          const input = document.createElement('input');
          input.type = 'text';
          input.maxLength = 1;
          cell.appendChild(input);
        }
        row.appendChild(cell);
      }
      board.appendChild(row);
    }
    function checkSudoku() {
      let correct = true;
      for (let r = 0; r < 4; r++) {
        for (let c = 0; c < 4; c++) {
          const key = `${r}-${c}`;
          let value;
          if (prefilled[key]) {
            value = prefilled[key];
          } else {
            const inp = board.rows[r].cells[c].querySelector('input');
            value = parseInt(inp.value);
          }
          if (value !== solution[r][c]) {
            correct = false;
          }
        }
      }
      if (correct) {
        document.getElementById('sudokuFeedback').textContent = '';
        showLetter('H');
      } else {
        document.getElementById('sudokuFeedback').textContent = 'Mindestens eine Zahl ist falsch. Versuche es nochmal!';
      }
    }
    function showLetter(letter) {
      const container = document.getElementById('letter-container');
      document.getElementById('letter').textContent = letter;
      container.style.display = 'block';
    }
  </script>
</body>
</html>
