<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>Adventskalender Tag 11</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Tag&nbsp;11 – Reaktionsspiel</h1>
  </header>
  <main class="puzzle-container">
    <p>Klicke die Schneeflocke, sobald sie sich bewegt. Je schneller, desto besser!</p>
    <div id="reaction-container">
      <div id="snowflake">❄</div>
    </div>
    <div id="reactionFeedback" style="margin-top:10px;"></div>
    <div id="letter-container" class="letter-container" style="display:none;">
      <p>Dein Buchstabe:</p>
      <div class="letter" id="letter"></div>
      <p>Merke dir diesen Buchstaben!</p>
    </div>
  </main>
  <footer>
    <a href="index.html">Zurück zum Kalender</a>
  </footer>
  <script>
    const flake = document.getElementById('snowflake');
    const container = document.getElementById('reaction-container');
    let moving = false;
    let startTime;
    function startMoving() {
      const maxX = container.clientWidth - 30;
      const maxY = container.clientHeight - 30;
      moving = true;
      startTime = Date.now();
      flake.style.display = 'block';
      move();
    }
    function move() {
      if (!moving) return;
      const x = Math.random() * (container.clientWidth - 30);
      const y = Math.random() * (container.clientHeight - 30);
      flake.style.left = x + 'px';
      flake.style.top = y + 'px';
      requestAnimationFrame(move);
    }
    flake.addEventListener('click', () => {
      if (moving) {
        moving = false;
        const duration = Date.now() - startTime;
        document.getElementById('reactionFeedback').textContent = `Gut gemacht! Deine Reaktionszeit: ${duration} ms.`;
        showLetter('F');
      }
    });
    // Starte die Bewegung nach einer kurzen Verzögerung
    setTimeout(startMoving, 1000);
    function showLetter(letter) {
      const container = document.getElementById('letter-container');
      document.getElementById('letter').textContent = letter;
      container.style.display = 'block';
    }
  </script>
</body>
</html>